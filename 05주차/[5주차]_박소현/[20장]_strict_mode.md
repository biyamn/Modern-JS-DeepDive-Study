# :fire: 20장. strict mode

## :one: strict mode

### 📖 암묵적 전역

- 어떤 함수 내에 선언되지 않은 어떤 변수가 최상위 스코프까지 검색했음에도 찾지 못했을 경우(즉, 변수가 선언이 안된 상태일 때), 자바스크립트 엔진이 암묵적으로 전역 객체에 해당 변수의 프로퍼티를 동적으로 생성하는데, 이러한 현상을 암묵적 전역이라고 부른다.
- 암묵적 전역은 오류를 발생시키는 원인이 될 가능성이 높다. 꼭 변수를 선언해야.

### 📖 strict mode

- 암묵적 전역을 만드는 것과 같은 실수를 막기 위해 ES5부터 추가된 기능. 자바스크립트 언어의 문법을 엄격하게 적용하여 문제가 발생할 수 있는 코드에 대해 에러를 발생시킨다. 
- ESLint 같은 도구를 사용해도 좋다. 코딩 컨벤션을 설정하고 적용할 수 있기 때문에 효과와 편이성이 높다.

---

## :two: strict mode의 적용

- 전역의 선두 또는 함수 몸체의 선두에 'use strict';를 추가한다. (작은 따옴표와 세미콜론까지 포함)
- **전역에 strict mode를 적용하는 건 권장되지 않는다.** 즉시 실행 함수로 스크립트 전체를 감싸서 스코프를 구분함이 좋다.
- **함수 단위로 strict mode를 적용하는 것도 권장되지 않는다.** 함수마다 일일이 strict mode를 적용하거나 일관성 없이 적용하는 것은 바람직하지 않다.
```
function foo() {
  'use strict';
  x = 10;
}
foo();
```

---

## :three: strict mode가 발생시키는 에러

- 암묵적 전역: 선언하지 않은 변수를 참조하면 ReferenceError 발생.
- 변수, 함수, 매개변수의 삭제: delete 연산자로 변수나 함수, 매개변수를 삭제하면 SyntaxError 발생.
- 중복된 매개변수 이름
- with 문 사용 : SyntaxError 발생.

※ with 문

전달된 객체를 스코프 체인에 추가한다. 객체 이름을 생략할 수 있어 편한 듯하나 가독성이 나빠 권장되지 않는 구문이다.

---

## :four: strict mode 적용에 의한 변화

- 일반 함수의 this: this에 undefined가 바인딩된다. 에러는 발생하지 않는다.
- argument 객체: 매개변수에 전달된 인수를 재할당하여 변경해도 arguments 객체에 반영되지 않는다.
